{
  "ApiBaseAddress": "http://localhost:5231",
  "OpenTelemetry": {
    "ResourceAttributes": {
      "service.name": "Template.Api",
      "service.instance.id": "01JY72W67BKD58K545VZ0ETFJN"
    },
    "Exporters": {
      "Otlp": {
        "Metrics": {
          "Endpoint": "http://localhost:4317",
          "Protocol": "Grpc",
          "Headers": {}
        },
        "Tracing": {
          "Endpoint": "http://localhost:4317",
          "Protocol": "Grpc",
          "Headers": {}
        }
      }
    },
    "Metrics": {
      "AddRuntimeInstrumentation": true,
      "AddHttpClientInstrumentation": true,
      "AddAspNetCoreInstrumentation": true
    },
    "Tracing": {
      "AddAspNetCoreInstrumentation": true,
      "AddHttpClientInstrumentation": true,
      "AddEntityFrameworkCoreInstrumentation": true,
      "AddWorkersInstrumentation": true
    }
  },
  "HttpLogging": {
    "LoggingFields": "RequestQuery, All",
    "AllowedRequestHeaders": [
      "Accept",
      "Accept-Charset",
      "Accept-Encoding",
      "Accept-Language",
      "Allow",
      "Cache-Control",
      "Connection",
      "Content-Encoding",
      "Content-Length",
      "Content-Type",
      "Date",
      "DNT",
      "Expect",
      "Host",
      "Max-Forwards",
      "Range",
      "Sec-WebSocket-Extensions",
      "Sec-WebSocket-Version",
      "TE",
      "Trailer",
      "Transfer-Encoding",
      "Upgrade",
      "User-Agent",
      "Warning",
      "X-Requested-With",
      "X-UA-Compatible"
    ],
    "AllowedResponseHeaders": [
      "Accept-Ranges",
      "Age",
      "Allow",
      "Alt-Svc",
      "Connection",
      "Content-Disposition",
      "Content-Language",
      "Content-Length",
      "Content-Location",
      "Content-Range",
      "Content-Type",
      "Date",
      "Expires",
      "Last-Modified",
      "Location",
      "Server",
      "Transfer-Encoding",
      "Upgrade",
      "X-Powered-By"
    ],
    "AllowedTextMediaTypes": [
      {
        "ContentType": "application/json",
        "Encoding": "utf-8"
      },
      {
        "ContentType": "application/*+json",
        "Encoding": "utf-8"
      },
      {
        "ContentType": "text/*",
        "Encoding": "utf-8"
      }
    ],
    "RequestBodyLogLimit": 32768,
    "ResponseBodyLogLimit": 32768
  },
  "HttpClients": {
    "TestTrace": {
      "Logging": {
        "EnableDuration": true,
        "RequestLoggingFields": "Query, All",
        "ResponseLoggingFields": "All",
        "AllowedRequestHeaders": [
          "Accept",
          "Accept-Charset",
          "Accept-Encoding",
          "Accept-Language",
          "Allow",
          "Cache-Control",
          "Connection",
          "Content-Encoding",
          "Content-Length",
          "Content-Type",
          "Date",
          "DNT",
          "Expect",
          "Host",
          "Max-Forwards",
          "Range",
          "Sec-WebSocket-Extensions",
          "Sec-WebSocket-Version",
          "TE",
          "Trailer",
          "Transfer-Encoding",
          "Upgrade",
          "User-Agent",
          "Warning",
          "X-Requested-With",
          "X-UA-Compatible"
        ],
        "AllowedResponseHeaders": [
          "Accept-Ranges",
          "Age",
          "Allow",
          "Alt-Svc",
          "Connection",
          "Content-Disposition",
          "Content-Language",
          "Content-Length",
          "Content-Location",
          "Content-Range",
          "Content-Type",
          "Date",
          "Expires",
          "Last-Modified",
          "Location",
          "Server",
          "Transfer-Encoding",
          "Upgrade",
          "X-Powered-By"
        ],
        "AllowedTextMediaTypes": [
          {
            "ContentType": "application/json",
            "Encoding": "utf-8"
          },
          {
            "ContentType": "application/*+json",
            "Encoding": "utf-8"
          },
          {
            "ContentType": "text/*",
            "Encoding": "utf-8"
          }
        ],
        "RequestBodyLogLimit": 32768,
        "ResponseBodyLogLimit": 32768
      }
    }
  },
  "Serilog": {
    "Using": [
      "Serilog.Enrichers.Thread",
      "Serilog.Enrichers.Process",
      "Serilog.Enrichers.Environment",
      "Serilog.Enrichers.Custom",
      "Serilog.Sinks.Console",
      "Serilog.Sinks.File",
      "Serilog.Sinks.OpenTelemetry"
    ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff}] [{Level:u3}] [{TraceId}] [{UserId}] [{SourceContext}] {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "Logs/log-.txt",
          "rollingInterval": "Day",
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff}] [{Level:u3}] [{TraceId}] [{UserId}] [{SourceContext}] {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "OpenTelemetry",
        "Args": {
          "endpoint": "http://localhost:4317",
          "protocol": "Grpc",
          "resourceAttributes": {
            "service.name": "Template.Api",
            "service.instance.id": "01JY72W67BKD58K545VZ0ETFJN"
          },
          "headers": {}
        }
      }
    ],
    "Enrich": [
      "WithThreadId",
      "WithProcessId",
      "WithMachineName",
      "WithEnvironmentName",
      "WithUserId",
      "FromLogContext"
    ],
    "Properties": {
      "ApplicationName": "Template.Api",
      "ServiceInstanceId": "01JY72W67BKD58K545VZ0ETFJN"
    }
  }
}
