services:
  aspire.dashboard:
    environment:
      - ASPIRE_DASHBOARD_UNSECURED_ALLOW_ANONYMOUS=true
    ports:
      - 18888:18888

  template.api:
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_HTTP_PORTS=8080
      - OpenTelemetry__WithMetrics__Exporters__Otlp__Endpoint=http://aspire.dashboard:18889
      - OpenTelemetry__WithTracing__Exporters__Otlp__Endpoint=http://aspire.dashboard:18889
      - OpenTelemetry__WithLogging__Exporters__Otlp__Endpoint=http://aspire.dashboard:18889
      - ApiBaseAddress=http://template.api:8080
    ports:
      - 9001:8080
    depends_on:
      - aspire.dashboard
